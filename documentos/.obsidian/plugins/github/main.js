/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Gt=Object.defineProperty;var Ye=Object.getOwnPropertyDescriptor;var ze=Object.getOwnPropertyNames;var Ke=Object.prototype.hasOwnProperty;var Je=(r,e)=>{for(var t in e)Gt(r,t,{get:e[t],enumerable:!0})},Qe=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ze(e))!Ke.call(r,o)&&o!==t&&Gt(r,o,{get:()=>e[o],enumerable:!(i=Ye(e,o))||i.enumerable});return r};var Ze=r=>Qe(Gt({},"__esModule",{value:!0}),r);var Br={};Je(Br,{default:()=>jt});module.exports=Ze(Br);var v=require("obsidian"),pe=require("obsidian");var je=require("obsidian"),We=require("obsidian");var S="top",C="bottom",R="right",T="left",Lt="auto",Z=[S,C,R,T],z="start",st="end",we="clippingParents",Bt="viewport",gt="popper",be="reference",Ut=Z.reduce(function(r,e){return r.concat([e+"-"+z,e+"-"+st])},[]),Ht=[].concat(Z,[Lt]).reduce(function(r,e){return r.concat([e,e+"-"+z,e+"-"+st])},[]),tr="beforeRead",er="read",rr="afterRead",or="beforeMain",ir="main",ar="afterMain",sr="beforeWrite",nr="write",pr="afterWrite",xe=[tr,er,rr,or,ir,ar,sr,nr,pr];function M(r){return r?(r.nodeName||"").toLowerCase():null}function P(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function W(r){var e=P(r).Element;return r instanceof e||r instanceof Element}function F(r){var e=P(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function ht(r){if(typeof ShadowRoot=="undefined")return!1;var e=P(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function lr(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},o=e.attributes[t]||{},a=e.elements[t];!F(a)||!M(a)||(Object.assign(a.style,i),Object.keys(o).forEach(function(s){var p=o[s];p===!1?a.removeAttribute(s):a.setAttribute(s,p===!0?"":p)}))})}function cr(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],a=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),p=s.reduce(function(n,c){return n[c]="",n},{});!F(o)||!M(o)||(Object.assign(o.style,p),Object.keys(a).forEach(function(n){o.removeAttribute(n)}))})}}var Pe={name:"applyStyles",enabled:!0,phase:"write",fn:lr,effect:cr,requires:["computeStyles"]};function L(r){return r.split("-")[0]}var U=Math.max,nt=Math.min,K=Math.round;function vt(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Pt(){return!/^((?!chrome|android).)*safari/i.test(vt())}function I(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=r.getBoundingClientRect(),o=1,a=1;e&&F(r)&&(o=r.offsetWidth>0&&K(i.width)/r.offsetWidth||1,a=r.offsetHeight>0&&K(i.height)/r.offsetHeight||1);var s=W(r)?P(r):window,p=s.visualViewport,n=!Pt()&&t,c=(i.left+(n&&p?p.offsetLeft:0))/o,l=(i.top+(n&&p?p.offsetTop:0))/a,m=i.width/o,f=i.height/a;return{width:m,height:f,top:l,right:c+m,bottom:l+f,left:c,x:c,y:l}}function pt(r){var e=I(r),t=r.offsetWidth,i=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:i}}function Et(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&ht(t)){var i=e;do{if(i&&r.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function q(r){return P(r).getComputedStyle(r)}function Xt(r){return["table","td","th"].indexOf(M(r))>=0}function H(r){return((W(r)?r.ownerDocument:r.document)||window.document).documentElement}function J(r){return M(r)==="html"?r:r.assignedSlot||r.parentNode||(ht(r)?r.host:null)||H(r)}function Ee(r){return!F(r)||q(r).position==="fixed"?null:r.offsetParent}function ur(r){var e=/firefox/i.test(vt()),t=/Trident/i.test(vt());if(t&&F(r)){var i=q(r);if(i.position==="fixed")return null}var o=J(r);for(ht(o)&&(o=o.host);F(o)&&["html","body"].indexOf(M(o))<0;){var a=q(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function X(r){for(var e=P(r),t=Ee(r);t&&Xt(t)&&q(t).position==="static";)t=Ee(t);return t&&(M(t)==="html"||M(t)==="body"&&q(t).position==="static")?e:t||ur(r)||e}function lt(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function ct(r,e,t){return U(r,nt(e,t))}function Se(r,e,t){var i=ct(r,e,t);return i>t?t:i}function St(){return{top:0,right:0,bottom:0,left:0}}function Ot(r){return Object.assign({},St(),r)}function Dt(r,e){return e.reduce(function(t,i){return t[i]=r,t},{})}var fr=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Ot(typeof e!="number"?e:Dt(e,Z))};function mr(r){var e,t=r.state,i=r.name,o=r.options,a=t.elements.arrow,s=t.modifiersData.popperOffsets,p=L(t.placement),n=lt(p),c=[T,R].indexOf(p)>=0,l=c?"height":"width";if(!(!a||!s)){var m=fr(o.padding,t),f=pt(a),d=n==="y"?S:T,x=n==="y"?C:R,g=t.rects.reference[l]+t.rects.reference[n]-s[n]-t.rects.popper[l],u=s[n]-t.rects.reference[n],y=X(a),O=y?n==="y"?y.clientHeight||0:y.clientWidth||0:0,D=g/2-u/2,h=m[d],w=O-f[l]-m[x],b=O/2-f[l]/2+D,E=ct(h,b,w),B=n;t.modifiersData[i]=(e={},e[B]=E,e.centerOffset=E-b,e)}}function dr(r){var e=r.state,t=r.options,i=t.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Et(e.elements.popper,o)&&(e.elements.arrow=o))}var Oe={name:"arrow",enabled:!0,phase:"main",fn:mr,effect:dr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function V(r){return r.split("-")[1]}var gr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hr(r,e){var t=r.x,i=r.y,o=e.devicePixelRatio||1;return{x:K(t*o)/o||0,y:K(i*o)/o||0}}function De(r){var e,t=r.popper,i=r.popperRect,o=r.placement,a=r.variation,s=r.offsets,p=r.position,n=r.gpuAcceleration,c=r.adaptive,l=r.roundOffsets,m=r.isFixed,f=s.x,d=f===void 0?0:f,x=s.y,g=x===void 0?0:x,u=typeof l=="function"?l({x:d,y:g}):{x:d,y:g};d=u.x,g=u.y;var y=s.hasOwnProperty("x"),O=s.hasOwnProperty("y"),D=T,h=S,w=window;if(c){var b=X(t),E="clientHeight",B="clientWidth";if(b===P(t)&&(b=H(t),q(b).position!=="static"&&p==="absolute"&&(E="scrollHeight",B="scrollWidth")),b=b,o===S||(o===T||o===R)&&a===st){h=C;var $=m&&b===w&&w.visualViewport?w.visualViewport.height:b[E];g-=$-i.height,g*=n?1:-1}if(o===T||(o===S||o===C)&&a===st){D=R;var A=m&&b===w&&w.visualViewport?w.visualViewport.width:b[B];d-=A-i.width,d*=n?1:-1}}var N=Object.assign({position:p},c&&gr),_=l===!0?hr({x:d,y:g},P(t)):{x:d,y:g};if(d=_.x,g=_.y,n){var k;return Object.assign({},N,(k={},k[h]=O?"0":"",k[D]=y?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",k))}return Object.assign({},N,(e={},e[h]=O?g+"px":"",e[D]=y?d+"px":"",e.transform="",e))}function vr(r){var e=r.state,t=r.options,i=t.gpuAcceleration,o=i===void 0?!0:i,a=t.adaptive,s=a===void 0?!0:a,p=t.roundOffsets,n=p===void 0?!0:p,c={placement:L(e.placement),variation:V(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,De(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:n})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,De(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:n})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Te={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vr,data:{}};var Nt={passive:!0};function yr(r){var e=r.state,t=r.instance,i=r.options,o=i.scroll,a=o===void 0?!0:o,s=i.resize,p=s===void 0?!0:s,n=P(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(l){l.addEventListener("scroll",t.update,Nt)}),p&&n.addEventListener("resize",t.update,Nt),function(){a&&c.forEach(function(l){l.removeEventListener("scroll",t.update,Nt)}),p&&n.removeEventListener("resize",t.update,Nt)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yr,data:{}};var wr={left:"right",right:"left",bottom:"top",top:"bottom"};function yt(r){return r.replace(/left|right|bottom|top/g,function(e){return wr[e]})}var br={start:"end",end:"start"};function kt(r){return r.replace(/start|end/g,function(e){return br[e]})}function ut(r){var e=P(r),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function ft(r){return I(H(r)).left+ut(r).scrollLeft}function Yt(r,e){var t=P(r),i=H(r),o=t.visualViewport,a=i.clientWidth,s=i.clientHeight,p=0,n=0;if(o){a=o.width,s=o.height;var c=Pt();(c||!c&&e==="fixed")&&(p=o.offsetLeft,n=o.offsetTop)}return{width:a,height:s,x:p+ft(r),y:n}}function zt(r){var e,t=H(r),i=ut(r),o=(e=r.ownerDocument)==null?void 0:e.body,a=U(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=U(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),p=-i.scrollLeft+ft(r),n=-i.scrollTop;return q(o||t).direction==="rtl"&&(p+=U(t.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:p,y:n}}function mt(r){var e=q(r),t=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+i)}function qt(r){return["html","body","#document"].indexOf(M(r))>=0?r.ownerDocument.body:F(r)&&mt(r)?r:qt(J(r))}function tt(r,e){var t;e===void 0&&(e=[]);var i=qt(r),o=i===((t=r.ownerDocument)==null?void 0:t.body),a=P(i),s=o?[a].concat(a.visualViewport||[],mt(i)?i:[]):i,p=e.concat(s);return o?p:p.concat(tt(J(s)))}function wt(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function xr(r,e){var t=I(r,!1,e==="fixed");return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}function Ae(r,e,t){return e===Bt?wt(Yt(r,t)):W(e)?xr(e,t):wt(zt(H(r)))}function Pr(r){var e=tt(J(r)),t=["absolute","fixed"].indexOf(q(r).position)>=0,i=t&&F(r)?X(r):r;return W(i)?e.filter(function(o){return W(o)&&Et(o,i)&&M(o)!=="body"}):[]}function Kt(r,e,t,i){var o=e==="clippingParents"?Pr(r):[].concat(e),a=[].concat(o,[t]),s=a[0],p=a.reduce(function(n,c){var l=Ae(r,c,i);return n.top=U(l.top,n.top),n.right=nt(l.right,n.right),n.bottom=nt(l.bottom,n.bottom),n.left=U(l.left,n.left),n},Ae(r,s,i));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}function Tt(r){var e=r.reference,t=r.element,i=r.placement,o=i?L(i):null,a=i?V(i):null,s=e.x+e.width/2-t.width/2,p=e.y+e.height/2-t.height/2,n;switch(o){case S:n={x:s,y:e.y-t.height};break;case C:n={x:s,y:e.y+e.height};break;case R:n={x:e.x+e.width,y:p};break;case T:n={x:e.x-t.width,y:p};break;default:n={x:e.x,y:e.y}}var c=o?lt(o):null;if(c!=null){var l=c==="y"?"height":"width";switch(a){case z:n[c]=n[c]-(e[l]/2-t[l]/2);break;case st:n[c]=n[c]+(e[l]/2-t[l]/2);break;default:}}return n}function Y(r,e){e===void 0&&(e={});var t=e,i=t.placement,o=i===void 0?r.placement:i,a=t.strategy,s=a===void 0?r.strategy:a,p=t.boundary,n=p===void 0?we:p,c=t.rootBoundary,l=c===void 0?Bt:c,m=t.elementContext,f=m===void 0?gt:m,d=t.altBoundary,x=d===void 0?!1:d,g=t.padding,u=g===void 0?0:g,y=Ot(typeof u!="number"?u:Dt(u,Z)),O=f===gt?be:gt,D=r.rects.popper,h=r.elements[x?O:f],w=Kt(W(h)?h:h.contextElement||H(r.elements.popper),n,l,s),b=I(r.elements.reference),E=Tt({reference:b,element:D,strategy:"absolute",placement:o}),B=wt(Object.assign({},D,E)),$=f===gt?B:b,A={top:w.top-$.top+y.top,bottom:$.bottom-w.bottom+y.bottom,left:w.left-$.left+y.left,right:$.right-w.right+y.right},N=r.modifiersData.offset;if(f===gt&&N){var _=N[o];Object.keys(A).forEach(function(k){var et=[R,C].indexOf(k)>=0?1:-1,rt=[S,C].indexOf(k)>=0?"y":"x";A[k]+=_[rt]*et})}return A}function Jt(r,e){e===void 0&&(e={});var t=e,i=t.placement,o=t.boundary,a=t.rootBoundary,s=t.padding,p=t.flipVariations,n=t.allowedAutoPlacements,c=n===void 0?Ht:n,l=V(i),m=l?p?Ut:Ut.filter(function(x){return V(x)===l}):Z,f=m.filter(function(x){return c.indexOf(x)>=0});f.length===0&&(f=m);var d=f.reduce(function(x,g){return x[g]=Y(r,{placement:g,boundary:o,rootBoundary:a,padding:s})[L(g)],x},{});return Object.keys(d).sort(function(x,g){return d[x]-d[g]})}function Er(r){if(L(r)===Lt)return[];var e=yt(r);return[kt(r),e,kt(e)]}function Sr(r){var e=r.state,t=r.options,i=r.name;if(!e.modifiersData[i]._skip){for(var o=t.mainAxis,a=o===void 0?!0:o,s=t.altAxis,p=s===void 0?!0:s,n=t.fallbackPlacements,c=t.padding,l=t.boundary,m=t.rootBoundary,f=t.altBoundary,d=t.flipVariations,x=d===void 0?!0:d,g=t.allowedAutoPlacements,u=e.options.placement,y=L(u),O=y===u,D=n||(O||!x?[yt(u)]:Er(u)),h=[u].concat(D).reduce(function(dt,Q){return dt.concat(L(Q)===Lt?Jt(e,{placement:Q,boundary:l,rootBoundary:m,padding:c,flipVariations:x,allowedAutoPlacements:g}):Q)},[]),w=e.rects.reference,b=e.rects.popper,E=new Map,B=!0,$=h[0],A=0;A<h.length;A++){var N=h[A],_=L(N),k=V(N)===z,et=[S,C].indexOf(_)>=0,rt=et?"width":"height",j=Y(e,{placement:N,boundary:l,rootBoundary:m,altBoundary:f,padding:c}),G=et?k?R:T:k?C:S;w[rt]>b[rt]&&(G=yt(G));var At=yt(G),ot=[];if(a&&ot.push(j[_]<=0),p&&ot.push(j[G]<=0,j[At]<=0),ot.every(function(dt){return dt})){$=N,B=!1;break}E.set(N,ot)}if(B)for(var Ct=x?3:1,Wt=function(Q){var xt=h.find(function($t){var it=E.get($t);if(it)return it.slice(0,Q).every(function(It){return It})});if(xt)return $=xt,"break"},bt=Ct;bt>0;bt--){var Ft=Wt(bt);if(Ft==="break")break}e.placement!==$&&(e.modifiersData[i]._skip=!0,e.placement=$,e.reset=!0)}}var Ce={name:"flip",enabled:!0,phase:"main",fn:Sr,requiresIfExists:["offset"],data:{_skip:!1}};function Fe(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function $e(r){return[S,R,C,T].some(function(e){return r[e]>=0})}function Or(r){var e=r.state,t=r.name,i=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,s=Y(e,{elementContext:"reference"}),p=Y(e,{altBoundary:!0}),n=Fe(s,i),c=Fe(p,o,a),l=$e(n),m=$e(c);e.modifiersData[t]={referenceClippingOffsets:n,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":m})}var Me={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Or};function Dr(r,e,t){var i=L(r),o=[T,S].indexOf(i)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,s=a[0],p=a[1];return s=s||0,p=(p||0)*o,[T,R].indexOf(i)>=0?{x:p,y:s}:{x:s,y:p}}function Tr(r){var e=r.state,t=r.options,i=r.name,o=t.offset,a=o===void 0?[0,0]:o,s=Ht.reduce(function(l,m){return l[m]=Dr(m,e.rects,a),l},{}),p=s[e.placement],n=p.x,c=p.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=n,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}var Le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tr};function Rr(r){var e=r.state,t=r.name;e.modifiersData[t]=Tt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Be={name:"popperOffsets",enabled:!0,phase:"read",fn:Rr,data:{}};function Qt(r){return r==="x"?"y":"x"}function Ar(r){var e=r.state,t=r.options,i=r.name,o=t.mainAxis,a=o===void 0?!0:o,s=t.altAxis,p=s===void 0?!1:s,n=t.boundary,c=t.rootBoundary,l=t.altBoundary,m=t.padding,f=t.tether,d=f===void 0?!0:f,x=t.tetherOffset,g=x===void 0?0:x,u=Y(e,{boundary:n,rootBoundary:c,padding:m,altBoundary:l}),y=L(e.placement),O=V(e.placement),D=!O,h=lt(y),w=Qt(h),b=e.modifiersData.popperOffsets,E=e.rects.reference,B=e.rects.popper,$=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,A=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_={x:0,y:0};if(b){if(a){var k,et=h==="y"?S:T,rt=h==="y"?C:R,j=h==="y"?"height":"width",G=b[h],At=G+u[et],ot=G-u[rt],Ct=d?-B[j]/2:0,Wt=O===z?E[j]:B[j],bt=O===z?-B[j]:-E[j],Ft=e.elements.arrow,dt=d&&Ft?pt(Ft):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:St(),xt=Q[et],$t=Q[rt],it=ct(0,E[j],dt[j]),It=D?E[j]/2-Ct-it-xt-A.mainAxis:Wt-it-xt-A.mainAxis,Ie=D?-E[j]/2+Ct+it+$t+A.mainAxis:bt+it+$t+A.mainAxis,Vt=e.elements.arrow&&X(e.elements.arrow),Ve=Vt?h==="y"?Vt.clientTop||0:Vt.clientLeft||0:0,ce=(k=N==null?void 0:N[h])!=null?k:0,_e=G+It-ce-Ve,Ge=G+Ie-ce,ue=ct(d?nt(At,_e):At,G,d?U(ot,Ge):ot);b[h]=ue,_[h]=ue-G}if(p){var fe,Ue=h==="x"?S:T,Xe=h==="x"?C:R,at=b[w],Mt=w==="y"?"height":"width",me=at+u[Ue],de=at-u[Xe],_t=[S,T].indexOf(y)!==-1,ge=(fe=N==null?void 0:N[w])!=null?fe:0,he=_t?me:at-E[Mt]-B[Mt]-ge+A.altAxis,ve=_t?at+E[Mt]+B[Mt]-ge-A.altAxis:de,ye=d&&_t?Se(he,at,ve):ct(d?he:me,at,d?ve:de);b[w]=ye,_[w]=ye-at}e.modifiersData[i]=_}}var He={name:"preventOverflow",enabled:!0,phase:"main",fn:Ar,requiresIfExists:["offset"]};function Zt(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function te(r){return r===P(r)||!F(r)?ut(r):Zt(r)}function Cr(r){var e=r.getBoundingClientRect(),t=K(e.width)/r.offsetWidth||1,i=K(e.height)/r.offsetHeight||1;return t!==1||i!==1}function ee(r,e,t){t===void 0&&(t=!1);var i=F(e),o=F(e)&&Cr(e),a=H(e),s=I(r,o,t),p={scrollLeft:0,scrollTop:0},n={x:0,y:0};return(i||!i&&!t)&&((M(e)!=="body"||mt(a))&&(p=te(e)),F(e)?(n=I(e,!0),n.x+=e.clientLeft,n.y+=e.clientTop):a&&(n.x=ft(a))),{x:s.left+p.scrollLeft-n.x,y:s.top+p.scrollTop-n.y,width:s.width,height:s.height}}function Fr(r){var e=new Map,t=new Set,i=[];r.forEach(function(a){e.set(a.name,a)});function o(a){t.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(p){if(!t.has(p)){var n=e.get(p);n&&o(n)}}),i.push(a)}return r.forEach(function(a){t.has(a.name)||o(a)}),i}function re(r){var e=Fr(r);return xe.reduce(function(t,i){return t.concat(e.filter(function(o){return o.phase===i}))},[])}function oe(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}function ie(r){var e=r.reduce(function(t,i){var o=t[i.name];return t[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var Ne={placement:"bottom",modifiers:[],strategy:"absolute"};function ke(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function qe(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,i=t===void 0?[]:t,o=e.defaultOptions,a=o===void 0?Ne:o;return function(p,n,c){c===void 0&&(c=a);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ne,a),modifiersData:{},elements:{reference:p,popper:n},attributes:{},styles:{}},m=[],f=!1,d={state:l,setOptions:function(y){var O=typeof y=="function"?y(l.options):y;g(),l.options=Object.assign({},a,l.options,O),l.scrollParents={reference:W(p)?tt(p):p.contextElement?tt(p.contextElement):[],popper:tt(n)};var D=re(ie([].concat(i,l.options.modifiers)));return l.orderedModifiers=D.filter(function(h){return h.enabled}),x(),d.update()},forceUpdate:function(){if(!f){var y=l.elements,O=y.reference,D=y.popper;if(ke(O,D)){l.rects={reference:ee(O,X(D),l.options.strategy==="fixed"),popper:pt(D)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(A){return l.modifiersData[A.name]=Object.assign({},A.data)});for(var h=0;h<l.orderedModifiers.length;h++){if(l.reset===!0){l.reset=!1,h=-1;continue}var w=l.orderedModifiers[h],b=w.fn,E=w.options,B=E===void 0?{}:E,$=w.name;typeof b=="function"&&(l=b({state:l,options:B,name:$,instance:d})||l)}}}},update:oe(function(){return new Promise(function(u){d.forceUpdate(),u(l)})}),destroy:function(){g(),f=!0}};if(!ke(p,n))return d;d.setOptions(c).then(function(u){!f&&c.onFirstUpdate&&c.onFirstUpdate(u)});function x(){l.orderedModifiers.forEach(function(u){var y=u.name,O=u.options,D=O===void 0?{}:O,h=u.effect;if(typeof h=="function"){var w=h({state:l,name:y,instance:d,options:D}),b=function(){};m.push(w||b)}})}function g(){m.forEach(function(u){return u()}),m=[]}return d}}var $r=[Re,Be,Te,Pe,Le,Ce,He,Oe,Me],ae=qe({defaultModifiers:$r});var Mr=(r,e)=>(r%e+e)%e,se=class{constructor(e,t,i){this.owner=e,this.containerEl=t,t.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),t.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),i.register([],"ArrowUp",o=>{if(!o.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),i.register([],"ArrowDown",o=>{if(!o.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),i.register([],"Enter",o=>{if(!o.isComposing)return this.useSelectedItem(o),!1})}onSuggestionClick(e,t){e.preventDefault();let i=this.suggestions.indexOf(t);this.setSelectedItem(i,!1),this.useSelectedItem(e)}onSuggestionMouseover(e,t){let i=this.suggestions.indexOf(t);this.setSelectedItem(i,!1)}setSuggestions(e){this.containerEl.empty();let t=[];e.forEach(i=>{let o=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(i,o),t.push(o)}),this.values=e,this.suggestions=t,this.setSelectedItem(0,!1)}useSelectedItem(e){let t=this.values[this.selectedItem];t&&this.owner.selectSuggestion(t,e)}setSelectedItem(e,t){let i=Mr(e,this.suggestions.length),o=this.suggestions[this.selectedItem],a=this.suggestions[i];o==null||o.removeClass("is-selected"),a==null||a.addClass("is-selected"),this.selectedItem=i,t&&a.scrollIntoView(!1)}},ne=class{constructor(e,t){this.app=e;this.inputEl=t;this.scope=new We.Scope,this.suggestEl=createDiv("suggestion-container");let i=this.suggestEl.createDiv("suggestion");this.suggest=new se(this,i,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",o=>{o.preventDefault()})}onInputChanged(){let e=this.inputEl.value,t=this.getSuggestions(e);if(!t){this.close();return}t.length>0?(this.suggest.setSuggestions(t),this.open(this.app.dom.appContainerEl,this.inputEl)):this.close()}open(e,t){this.app.keymap.pushScope(this.scope),e.appendChild(this.suggestEl),this.popper=ae(t,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:i,instance:o})=>{let a=`${i.rects.reference.width}px`;i.styles.popper.width!==a&&(i.styles.popper.width=a,o.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){this.app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}},Rt=class extends ne{getSuggestions(e){let t=this.app.vault.getAllLoadedFiles(),i=[],o=e.toLowerCase();return t.forEach(a=>{a instanceof je.TFolder&&a.path.toLowerCase().contains(o)&&i.push(a)}),i}renderSuggestion(e,t){t.setText(e.path)}selectSuggestion(e){this.inputEl.value=e.path,this.inputEl.trigger("input"),this.close()}};var Lr={apiToken:"",username:"",targetDirectory:"",lastFetchDate:"",syncEnabled:!0,syncPullRequests:!0,lastPRFetchDate:"",prDirectory:""},jt=class extends v.Plugin{async onload(){await this.loadSettings(),this.addCommand({id:"github-fetch-stars-force",name:"Force fetch all stars",callback:async()=>{this.settings.lastFetchDate="",await this.saveSettings(),await this.fetchStars()}}),this.addCommand({id:"github-fetch-stars",name:"Fetch stars",callback:async()=>{await this.fetchStars()}}),this.addCommand({id:"github-fetch-prs-force",name:"Force fetch all pull requests",callback:async()=>{this.settings.lastPRFetchDate="",await this.saveSettings(),await this.fetchPullRequests()}}),this.addCommand({id:"github-fetch-prs",name:"Fetch pull requests",callback:async()=>{await this.fetchPullRequests()}}),this.addSettingTab(new le(this.app,this)),this.settings.syncEnabled&&this.settingsAreValid()&&setTimeout(async()=>{try{await this.fetchStars(),this.settings.syncPullRequests&&await this.fetchPullRequests()}catch(t){console.error("Background sync failed:",t)}},100)}onunload(){}async loadSettings(){this.settings=Object.assign({},Lr,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}settingsAreValid(){return Boolean(this.settings.username&&this.settings.targetDirectory)}async fetchStars(){if(!this.settings.syncEnabled){new v.Notice("Sync is disabled. Enable it in settings to fetch stars.");return}if(!this.settingsAreValid()){new v.Notice("Please set both GitHub username and target directory in settings.");return}try{await this.ensureTargetDirectoryExists();let t=0,i=1,o=!0,a=this.settings.lastFetchDate=="";for(;a||o;){let s=await this.getStarredRepos(i);for(let p of s.stars){let n=await this.createNoteForRepo(p);if(!a&&!n){o=!1;break}t++}if(t!==0&&new v.Notice(`Fetched ${t} GitHub stars`),!s.hasMore)break;i++}this.settings.lastFetchDate=new Date().toISOString(),await this.saveSettings(),t!==0&&new v.Notice(`Total ${t} GitHub stars`)}catch(t){console.error("Error fetching GitHub stars:",t),new v.Notice(`Error fetching GitHub stars: ${t.message}`)}}async ensureTargetDirectoryExists(){let{vault:t}=this.app,i=this.settings.targetDirectory.split("/").filter(a=>a.trim()),o="";for(let a of i)o=o?`${o}/${a}`:a,await t.adapter.exists(o)||await t.createFolder(o)}async ensurePRDirectoryExists(){let{vault:t}=this.app,o=(this.settings.prDirectory||this.settings.targetDirectory).split("/").filter(s=>s.trim()),a="";for(let s of o)a=a?`${a}/${s}`:s,await t.adapter.exists(a)||await t.createFolder(a)}async ensureDirectoryExists(t){let{vault:i}=this.app,o=t.split("/").filter(s=>s.trim()),a="";for(let s of o)a=a?`${a}/${s}`:s,await i.adapter.exists(a)||await i.createFolder(a)}async getStarredRepos(t){let{apiToken:i,username:o}=this.settings,a=100,s={url:`https://api.github.com/users/${o}/starred?per_page=${a}&page=${t}&sort=created&direction=desc`,method:"GET",headers:{Accept:"application/vnd.github.v3+json,application/vnd.github.mercy-preview+json","User-Agent":"GitHub-Plugin"}};i&&(s.headers={...s.headers,Authorization:`token ${i}`});let n=(await(0,pe.requestUrl)(s)).json;return{stars:n,hasMore:n.length==a}}async createNoteForRepo(t){let{vault:i}=this.app,o=`${this.settings.targetDirectory}/${t.full_name.replace("/","-")}.md`,a=["type/github-star"];t.language&&a.push(`github/language/${t.language.toLowerCase()}`);for(let m of t.topics||[])a.push(`github/topic/${m}`);let s=new Date(t.created_at),p=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`,n=new Date,c=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,l=await i.adapter.exists(o);try{let m;if(l){let f=this.app.vault.getAbstractFileByPath(o);if(f&&f instanceof v.TFile)m=f;else throw new Error(`File exists but couldn't be accessed: ${o}`)}else{let f=`# ${t.name}

`;m=await i.create(o,f)}await this.app.fileManager.processFrontMatter(m,f=>{f.tags=a,f.aliases=t.name,f.description=(t.description||"No description").replace(/"/g,'\\"'),f.url=t.html_url,f.owner=`https://github.com/${t.owner.login}`,f.language=t.language||"Not specified",f.stars=t.stargazers_count,f.created=p,f.modified=c,f.lastUpdated=new Date().toLocaleString()})}catch(m){console.error(`Error creating note for ${t.name}:`,m)}return!l}async fetchPullRequests(){if(!this.settings.syncEnabled){new v.Notice("Sync is disabled. Enable it in settings to fetch pull requests.");return}if(!this.settingsAreValid()){new v.Notice("Please set both GitHub username and target directory in settings.");return}try{await this.ensurePRDirectoryExists();let t=0,i=1,o=!0,a=this.settings.lastPRFetchDate=="";for(;a||o;){let s=await this.getPullRequests(i);for(let p of s.prs){let n=await this.createNoteForPR(p);if(!a&&!n){o=!1;break}t++}if(t!==0&&new v.Notice(`Fetched ${t} pull requests`),!s.hasMore)break;i++}this.settings.lastPRFetchDate=new Date().toISOString(),await this.saveSettings(),t!==0&&new v.Notice(`Total ${t} pull requests`)}catch(t){console.error("Error fetching pull requests:",t),new v.Notice(`Error fetching pull requests: ${t.message}`)}}async getPullRequests(t){let{apiToken:i,username:o}=this.settings,a=100,s={url:`https://api.github.com/search/issues?q=author:${o}+type:pr&per_page=${a}&page=${t}&sort=created&order=desc`,method:"GET",headers:{Accept:"application/vnd.github.v3+json","User-Agent":"GitHub-Plugin"}};i&&(s.headers={...s.headers,Authorization:`token ${i}`});let n=(await(0,pe.requestUrl)(s)).json;return{prs:n.items,hasMore:n.items.length==a}}async createNoteForPR(t){var x;let{vault:i}=this.app,o=t.repository_url.split("/"),a=o[o.length-2],s=o[o.length-1],p=`${a}/${s}`,n=t.title.replace(/[\\/:*?"<>|]/g,"-").replace(/\s+/g,"_").substring(0,50),l=`${this.settings.prDirectory||this.settings.targetDirectory}/${a}/${s}`,m=`${l}/${t.number}_${n}.md`,f=["type/github-pr"];f.push(`github/pr-state/${t.state}`),t.draft&&f.push("github/pr-draft"),((x=t.pull_request)!=null&&x.merged_at||t.merged_at)&&f.push("github/pr-merged");for(let g of t.labels||[])f.push(`github/pr-label/${g.name.toLowerCase().replace(/\s+/g,"-")}`);await this.ensureDirectoryExists(l);let d=await i.adapter.exists(m);try{let g;if(d){let u=this.app.vault.getAbstractFileByPath(m);if(u&&u instanceof v.TFile)g=u;else throw new Error(`File exists but couldn't be accessed: ${m}`)}else{let u=`# ${t.title}

`;g=await i.create(m,u)}await this.app.fileManager.processFrontMatter(g,u=>{var y;u.tags=f,u.title=t.title.replace(/"/g,'\\"'),u.url=t.html_url,u.repository=p,u.repository_url=`https://github.com/${p}`,u.owner=`https://github.com/${a}`,u.pr_number=t.number,u.state=t.state,u.draft=t.draft||!1,u.closed_at=t.closed_at||"Not closed",u.merged_at=((y=t.pull_request)==null?void 0:y.merged_at)||t.merged_at||"Not merged",u.lastUpdated=new Date().toLocaleString()})}catch(g){console.error(`Error creating note for PR #${t.number}:`,g)}return!d}},le=class extends v.PluginSettingTab{constructor(t,i){super(t,i);this.plugin=i}display(){let{containerEl:t}=this;t.empty(),new v.Setting(t).setName("GitHub API token").setDesc("Personal access token (https://github.com/settings/personal-access-tokens) with starring::read").addText(a=>{a.setPlaceholder("Enter your personal access token").setValue(this.plugin.settings.apiToken),a.inputEl.type="password",a.onChange(async s=>{this.plugin.settings.apiToken=s,await this.plugin.saveSettings()})}),new v.Setting(t).setName("GitHub username").setDesc("GitHub username").addText(a=>a.setPlaceholder("Enter your username").setValue(this.plugin.settings.username).onChange(async s=>{this.plugin.settings.username=s,await this.plugin.saveSettings()})),new v.Setting(t).setName("Target directory").setDesc("Directory where GitHub data will be stored").addSearch(a=>{try{new Rt(this.app,a.inputEl)}catch(s){new v.Notice(s.toString(),3e3)}a.setPlaceholder("Example: dir1/dir2").setValue(this.plugin.settings.targetDirectory).onChange(async s=>{this.plugin.settings.targetDirectory=s,await this.plugin.saveSettings()})}),new v.Setting(t).setName("Enable sync").setDesc("Allow automatic and manual syncing of GitHub data").addToggle(a=>a.setValue(this.plugin.settings.syncEnabled).onChange(async s=>{this.plugin.settings.syncEnabled=s,await this.plugin.saveSettings()})),new v.Setting(t).setName("Sync pull requests").setDesc("Also sync pull requests authored by the user").addToggle(a=>a.setValue(this.plugin.settings.syncPullRequests).onChange(async s=>{this.plugin.settings.syncPullRequests=s,await this.plugin.saveSettings()})),new v.Setting(t).setName("Pull requests directory").setDesc("Directory where pull request notes will be stored (leave empty to use same as stars)").addSearch(a=>{try{new Rt(this.app,a.inputEl)}catch(s){new v.Notice(s.toString(),3e3)}a.setPlaceholder("Example: PRs or GitHub/PRs").setValue(this.plugin.settings.prDirectory).onChange(async s=>{this.plugin.settings.prDirectory=s,await this.plugin.saveSettings()})});let i="never";this.plugin.settings.lastFetchDate&&(i=new Date(this.plugin.settings.lastFetchDate).toLocaleString()),new v.Setting(t).setName("Last star fetch").setDesc(`Stars were last fetched on: ${i}`),new v.Setting(t).setName("Force fetch stars").setDesc("Manually trigger re-fetching starred repositories").addButton(a=>a.setButtonText("Fetch stars").setCta().onClick(async()=>{this.plugin.settings.lastFetchDate="",await this.plugin.saveSettings(),await this.plugin.fetchStars(),this.display()}));let o="never";this.plugin.settings.lastPRFetchDate&&(o=new Date(this.plugin.settings.lastPRFetchDate).toLocaleString()),new v.Setting(t).setName("Last PR fetch").setDesc(`Pull requests were last fetched on: ${o}`),new v.Setting(t).setName("Force fetch pull requests").setDesc("Manually trigger re-fetching all pull requests").addButton(a=>a.setButtonText("Fetch PRs").setCta().onClick(async()=>{this.plugin.settings.lastPRFetchDate="",await this.plugin.saveSettings(),await this.plugin.fetchPullRequests(),this.display()}))}};

/* nosourcemap */